<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰è½å¼SVGçŒœæ­Œåäº’åŠ¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
        }
        .game-container {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            border: 2px solid #ccc;
            background-color: #fff;
        }
        .falling-item {
            position: absolute;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to {
                transform: translateY(400px);
            }
        }
        .result {
            margin-top: 20px;
            font-size: 1.2em;
            color: #333;
        }
    </style>
</head>
<body>
    <h1>æ‰è½å¼SVGçŒœæ­Œåäº’åŠ¨æ¸¸æˆ</h1>
    <div class="game-container" id="gameContainer"></div>
    <div class="result" id="result"></div>
    <script>
        // æ­Œæ›²åº“
        const songs = [
            { name: "å‘Šç™½æ°”çƒ", hint: "å‘¨æ°ä¼¦çš„æµªæ¼«æƒ…æ­Œ" },
            { name: "å¹³å‡¡ä¹‹è·¯", hint: "æœ´æ ‘çš„ç»å…¸ä¹‹ä½œ" },
            { name: "å°å¹¸è¿", hint: "ç”°é¦¥ç”„æ¼”å”±çš„ç”µå½±ä¸»é¢˜æ›²" },
            { name: "æ¼”å‘˜", hint: "è–›ä¹‹è°¦çš„ä»£è¡¨ä½œ" },
            { name: "å¤œæ›²", hint: "å‘¨æ°ä¼¦çš„ç»å…¸æ›²ç›®" }
        ];

        let currentRound = 0;
        const totalRounds = 3; // æ¸¸æˆè½®æ•°
        let score = 0;

        // åˆ›å»ºæ‰è½å…ƒç´ 
        function createFallingItem() {
            const container = document.getElementById('gameContainer');
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            svg.setAttribute("width", "50");
            svg.setAttribute("height", "50");
            svg.setAttribute("class", "falling-item");
            svg.style.left = `${Math.random() * 90}%`; // éšæœºæ°´å¹³ä½ç½®
            svg.style.animationDuration = `${Math.random() * 2 + 3}s`; // éšæœºæ‰è½é€Ÿåº¦

            // æ·»åŠ éŸ³ç¬¦å½¢çŠ¶
            const path = document.createElementNS(svgNS, "path");
            path.setAttribute("d", "M20 10 L30 10 L30 40 L20 40 Z M30 20 L40 20 L40 30 L30 30 Z");
            path.setAttribute("fill", "gold");
            svg.appendChild(path);

            container.appendChild(svg);
        }

        // æ˜¾ç¤ºæç¤ºå¹¶æ£€æŸ¥ç­”æ¡ˆ
        function playRound() {
            if (currentRound >= totalRounds) {
                endGame();
                return;
            }

            const song = songs[currentRound];
            alert(`æç¤ºï¼š${song.hint}`);
            const answer = prompt("è¯·è¾“å…¥æ­Œåï¼š");

            if (answer && answer.trim().toLowerCase() === song.name.toLowerCase()) {
                score++;
                alert("ç­”å¯¹äº†ï¼ğŸ‰");
            } else {
                alert(`ç­”é”™äº†ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${song.name}`);
            }

            currentRound++;
            playRound();
        }

        // æ¸¸æˆç»“æŸ
        function endGame() {
            const result = document.getElementById('result');
            result.innerHTML = `æ¸¸æˆç»“æŸï¼ä½ çš„å¾—åˆ†æ˜¯ï¼š${score}/${totalRounds}<br>`;
            if (score === totalRounds) {
                result.innerHTML += "å¤ªæ£’äº†ï¼Œä½ æ˜¯éŸ³ä¹è¾¾äººï¼ğŸµ";
            } else if (score >= totalRounds / 2) {
                result.innerHTML += "è¿˜ä¸é”™ï¼Œç»§ç»­åŠ æ²¹ï¼ğŸ¶";
            } else {
                result.innerHTML += "å†æ¥å†å‰ï¼Œå¤šå¬æ­Œå“¦ï¼ğŸ§";
            }
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            for (let i = 0; i < 10; i++) {
                createFallingItem(); // åˆ›å»ºå¤šä¸ªæ‰è½å…ƒç´ 
            }
            setTimeout(playRound, 2000); // 2ç§’åå¼€å§‹æ¸¸æˆ
        }

        startGame();
    </script>
</body>
</html>