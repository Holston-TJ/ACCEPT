<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>掉落式SVG猜歌名互动</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
        }
        .game-container {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            border: 2px solid #ccc;
            background-color: #fff;
        }
        .falling-item {
            position: absolute;
            animation: fall linear infinite;
        }
        @keyframes fall {
            to {
                transform: translateY(400px);
            }
        }
        .result {
            margin-top: 20px;
            font-size: 1.2em;
            color: #333;
        }
    </style>
</head>
<body>
    <h1>掉落式SVG猜歌名互动游戏</h1>
    <div class="game-container" id="gameContainer"></div>
    <div class="result" id="result"></div>
    <script>
        // 歌曲库
        const songs = [
            { name: "告白气球", hint: "周杰伦的浪漫情歌" },
            { name: "平凡之路", hint: "朴树的经典之作" },
            { name: "小幸运", hint: "田馥甄演唱的电影主题曲" },
            { name: "演员", hint: "薛之谦的代表作" },
            { name: "夜曲", hint: "周杰伦的经典曲目" }
        ];

        let currentRound = 0;
        const totalRounds = 3; // 游戏轮数
        let score = 0;

        // 创建掉落元素
        function createFallingItem() {
            const container = document.getElementById('gameContainer');
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            svg.setAttribute("width", "50");
            svg.setAttribute("height", "50");
            svg.setAttribute("class", "falling-item");
            svg.style.left = `${Math.random() * 90}%`; // 随机水平位置
            svg.style.animationDuration = `${Math.random() * 2 + 3}s`; // 随机掉落速度

            // 添加音符形状
            const path = document.createElementNS(svgNS, "path");
            path.setAttribute("d", "M20 10 L30 10 L30 40 L20 40 Z M30 20 L40 20 L40 30 L30 30 Z");
            path.setAttribute("fill", "gold");
            svg.appendChild(path);

            container.appendChild(svg);
        }

        // 显示提示并检查答案
        function playRound() {
            if (currentRound >= totalRounds) {
                endGame();
                return;
            }

            const song = songs[currentRound];
            alert(`提示：${song.hint}`);
            const answer = prompt("请输入歌名：");

            if (answer && answer.trim().toLowerCase() === song.name.toLowerCase()) {
                score++;
                alert("答对了！🎉");
            } else {
                alert(`答错了，正确答案是：${song.name}`);
            }

            currentRound++;
            playRound();
        }

        // 游戏结束
        function endGame() {
            const result = document.getElementById('result');
            result.innerHTML = `游戏结束！你的得分是：${score}/${totalRounds}<br>`;
            if (score === totalRounds) {
                result.innerHTML += "太棒了，你是音乐达人！🎵";
            } else if (score >= totalRounds / 2) {
                result.innerHTML += "还不错，继续加油！🎶";
            } else {
                result.innerHTML += "再接再厉，多听歌哦！🎧";
            }
        }

        // 开始游戏
        function startGame() {
            for (let i = 0; i < 10; i++) {
                createFallingItem(); // 创建多个掉落元素
            }
            setTimeout(playRound, 2000); // 2秒后开始游戏
        }

        startGame();
    </script>
</body>
</html>